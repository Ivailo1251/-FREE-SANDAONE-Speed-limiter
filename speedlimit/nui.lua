local unit = "mph" --Change to kmh if you need to 
local dis = true

Citizen.CreateThread(function()
    while true do
        Citizen.Wait(8)
        local ped = PlayerPedId()
        local playerloc = GetEntityCoords(ped)
        local streethash = GetStreetNameAtCoord(playerloc.x, playerloc.y, playerloc.z)
        street = GetStreetNameFromHashKey(streethash)
        if IsPedInAnyVehicle(ped) == 1 then
            dis = false
            
            if unit == "mph" then
                speedLimit = {["Joshua Rd"]=60, ["East Joshua Road"]=60, ["Marina Dr"]=30, ["Alhambra Dr"]=30, ["Niland Ave"]=30, ["Zancudo Ave"]=30, ["Armadillo Ave"]=30, ["Algonquin Blvd"]=30, ["Mountain View Dr"]=30, ["Cholla Springs Ave"]=30, ["Panorama Dr"]=45, ["Lesbos Ln"]=30, ["Calafia Rd"]=30, ["North Calafia Way"]=30, ["Cassidy Trail"]=30, ["Seaview Rd"]=30, ["Grapeseed Main St"]=30, ["Grapeseed Ave"]=30, ["Joad Ln"]=30, ["Union Rd"]=30, ["O'Neil Way"]=30, ["Senora Fwy [Route 13]"]=75, ["Senora Fwy"]=75, ["Catfish View"]=30, ["Great Ocean Hwy"]=70, ["Paleto Blvd"]=30, ["Duluoz Ave"]=30, ["Procopio Dr"]=30, ["Cascabel Ave"]=30, ["Procopio Promenade"]=30, ["Pyrite Ave"]=30, ["Fort Zancudo Approach Rd"]=30, ["Barbareno Rd"]=30, ["Ineseno Road"]=30, ["West Eclipse Blvd"]=30, ["Playa Vista"]=30, ["Bay City Ave"]=30, ["Del Perro Fwy"]=75, ["Equality Way"]=30, ["Red Desert Ave"]=30, ["Magellan Ave"]=30, ["Sandcastle Way"]=30, ["Vespucci Blvd"]=30, ["Prosperity St"]=30, ["San Andreas Ave"]=30, ["North Rockford Dr"]=30, ["South Rockford Dr"]=30, ["Marathon Ave"]=30, ["Boulevard Del Perro"]=30, ["Cougar Ave"]=30, ["Liberty St"]=30, ["Bay City Incline"]=30, ["Conquistador St"]=30, ["Cortes St"]=30, ["Vitus St"]=30, ["Aguja St"]=30, ["Goma St"]=30, ["Melanoma St"]=30, ["Palomino Ave"]=30, ["Invention Ct"]=30, ["Imagination Ct"]=30, ["Rub St"]=30, ["Tug St"]=30, ["Ginger St"]=30, ["Lindsay Circus"]=30, ["Calais Ave"]=30, ["Adam's Apple Blvd"]=30, ["Alta St"]=30, ["Integrity Way"]=30, ["Swiss St"]=30, ["Strawberry Ave"]=30, ["Capital Blvd"]=30, ["Crusade Rd"]=30, ["Innocence Blvd"]=30, ["Davis Ave"]=30, ["Little Bighorn Ave"]=30, ["Roy Lowenstein Blvd"]=30, ["Jamestown St"]=30, ["Carson Ave"]=45, ["Grove St"]=30, ["Brouge Ave"]=30, ["Covenant Ave"]=30, ["Dutch London St"]=30, ["Signal St"]=30, ["Elysian Fields Fwy"]=75, ["Plaice Pl"]=30, ["Chum St"]=30, ["Chupacabra St"]=30, ["Miriam Turner Overpass"]=30, ["Autopia Pkwy"]=30, ["Exceptionalists Way"]=30, ["La Puerta Fwy"]=75, ["New Empire Way"]=30, ["Runway1"]="--", ["Greenwich Pkwy"]=30, ["Kortz Dr"]=30, ["Banham Canyon Dr"]=30, ["Buen Vino Rd"]=30, ["Route 68"]=60, ["Zancudo Grande Valley"]=30, ["Zancudo Barranca"]=30, ["Galileo Rd"]=30, ["Mt Vinewood Dr"]=30, ["Marlowe Dr"]=30, ["Milton Rd"]=30, ["Kimble Hill Dr"]=30, ["Normandy Dr"]=30, ["Hillcrest Ave"]=30, ["Hillcrest Ridge Access Rd"]=30, ["North Sheldon Ave"]=30, ["Lake Vinewood Dr"]=30, ["Lake Vinewood Est"]=30, ["Baytree Canyon Rd"]=30, ["Peaceful St"]=30, ["North Conker Ave"]=30, ["Wild Oats Dr"]=30, ["Whispymound Dr"]=30, ["Didion Dr"]=30, ["Cox Way"]=30, ["Picture Perfect Drive"]=30, ["South Mo Milton Dr"]=30, ["Cockingend Dr"]=30, ["Mad Wayne Thunder Dr"]=30, ["Hangman Ave"]=30, ["Dunstable Ln"]=30, ["Dunstable Dr"]=30, ["Greenwich Way"]=30, ["Greenwich Pl"]=30, ["Hardy Way"]=30, ["Richman St"]=30, ["Ace Jones Dr"]=30, ["Los Santos Fwy"]=75, ["Senora Rd"]=30, ["Nowhere Rd"]=35, ["Smoke Tree Rd"]=30, ["Cholla Rd"]=30, ["Cat-Claw Ave"]=30, ["Senora Way"]=30, ["Palomino Fwy"]=75, ["Shank St"]=30, ["Macdonald St"]=30, ["Route 68 Approach"]=75, ["Vinewood Park Dr"]=30, ["Vinewood Blvd"]=30, ["Mirror Park Blvd"]=30, ["Glory Way"]=30, ["Bridge St"]=30, ["West Mirror Drive"]=30, ["Nikola Ave"]=30, ["East Mirror Dr"]=30, ["Nikola Pl"]=35, ["Mirror Pl"]=30, ["El Rancho Blvd"]=30, ["Olympic Fwy"]=75, ["Fudge Ln"]=30, ["Amarillo Vista"]=30, ["Labor Pl"]=30, ["El Burro Blvd"]=30, ["Sustancia Rd"]=55, ["South Shambles St"]=30, ["Hanger Way"]=30, ["Orchardville Ave"]=30, ["Popular St"]=30, ["Buccaneer Way"]=55, ["Abattoir Ave"]=30, ["Voodoo Place"]=40, ["Mutiny Rd"]=30, ["South Arsenal St"]=30, ["Forum Dr"]=30, ["Morningwood Blvd"]=30, ["Dorset Dr"]=30, ["Caesars Place"]=30, ["Spanish Ave"]=30, ["Portola Dr"]=30, ["Edwood Way"]=30, ["San Vitus Blvd"]=30, ["Eclipse Blvd"]=30, ["Gentry Lane"]=40, ["Las Lagunas Blvd"]=30, ["Power St"]=30, ["Mt Haan Rd"]=30, ["Elgin Ave"]=30, ["Hawick Ave"]=30, ["Meteor St"]=30, ["Alta Pl"]=30, ["Occupation Ave"]=30, ["Carcer Way"]=30, ["Eastbourne Way"]=30, ["Rockford Dr"]=30, ["Abe Milton Pkwy"]=30, ["Laguna Pl"]=30, ["Sinners Passage"]=30, ["Atlee St"]=30, ["Sinner St"]=30, ["Supply St"]=30, ["Amarillo Way"]=30, ["Tower Way"]=30, ["Decker St"]=30, ["Tackle St"]=30, ["Low Power St"]=30, ["Clinton Ave"]=30, ["Fenwell Pl"]=30, ["Utopia Gardens"]=30, ["Cavalry Blvd"]=30, ["South Boulevard Del Perro"]=30, ["Americano Way"]=30, ["Sam Austin Dr"]=30, ["East Galileo Ave"]=30, ["Galileo Park"]=30, ["West Galileo Ave"]=30, ["Tongva Dr"]=30, ["Zancudo Rd"]=30, ["Movie Star Way"]=30, ["Heritage Way"]=30, ["Perth St"]=30, ["Chianski Passage"]=30, ["Lolita Ave"]=30, ["Meringue Ln"]=30, ["Strangeways Dr"]=30}
            elseif unit == "kmh" then
                speedLimit = {["Joshua Rd"]=90, ["East Joshua Road"]=90, ["Marina Dr"]=70, ["Alhambra Dr"]=70, ["Niland Ave"]=70, ["Zancudo Ave"]=70, ["Armadillo Ave"]=70, ["Algonquin Blvd"]=70, ["Mountain View Dr"]=70, ["Cholla Springs Ave"]=70, ["Panorama Dr"]=70, ["Lesbos Ln"]=70, ["Calafia Rd"]=70, ["North Calafia Way"]=70, ["Cassidy Trail"]=70, ["Seaview Rd"]=70, ["Grapeseed Main St"]=70, ["Grapeseed Ave"]=70, ["Joad Ln"]=70, ["Union Rd"]=70, ["O'Neil Way"]=70, ["Senora Fwy"]=120, ["Catfish View"]=70, ["Great Ocean Hwy"]=70, ["Paleto Blvd"]=70, ["Duluoz Ave"]=70, ["Procopio Dr"]=70, ["Cascabel Ave"]=70, ["Procopio Promenade"]=70, ["Pyrite Ave"]=70, ["Fort Zancudo Approach Rd"]=70, ["Barbareno Rd"]=70, ["Ineseno Road"]=70, ["West Eclipse Blvd"]=70, ["Playa Vista"]=70, ["Bay City Ave"]=70, ["Del Perro Fwy"]=120, ["Equality Way"]=70, ["Red Desert Ave"]=70, ["Magellan Ave"]=70, ["Sandcastle Way"]=70, ["Vespucci Blvd"]=70, ["Prosperity St"]=70, ["San Andreas Ave"]=70, ["North Rockford Dr"]=70, ["South Rockford Dr"]=70, ["Marathon Ave"]=70, ["Boulevard Del Perro"]=70, ["Cougar Ave"]=70, ["Liberty St"]=70, ["Bay City Incline"]=70, ["Conquistador St"]=70, ["Cortes St"]=70, ["Vitus St"]=70, ["Aguja St"]=70, ["Goma St"]=70, ["Melanoma St"]=70, ["Palomino Ave"]=70, ["Invention Ct"]=70, ["Imagination Ct"]=70, ["Rub St"]=70, ["Tug St"]=70, ["Ginger St"]=70, ["Lindsay Circus"]=70, ["Calais Ave"]=70, ["Adam's Apple Blvd"]=70, ["Alta St"]=70, ["Integrity Way"]=70, ["Swiss St"]=70, ["Strawberry Ave"]=70, ["Capital Blvd"]=70, ["Crusade Rd"]=70, ["Innocence Blvd"]=70, ["Davis Ave"]=70, ["Little Bighorn Ave"]=70, ["Roy Lowenstein Blvd"]=70, ["Jamestown St"]=70, ["Carson Ave"]=45, ["Grove St"]=70, ["Brouge Ave"]=70, ["Covenant Ave"]=70, ["Dutch London St"]=70, ["Signal St"]=70, ["Elysian Fields Fwy"]=120, ["Plaice Pl"]=70, ["Chum St"]=70, ["Chupacabra St"]=70, ["Miriam Turner Overpass"]=70, ["Autopia Pkwy"]=70, ["Exceptionalists Way"]=70, ["La Puerta Fwy"]=120, ["New Empire Way"]=70, ["Runway1"]="--", ["Greenwich Pkwy"]=70, ["Kortz Dr"]=70, ["Banham Canyon Dr"]=70, ["Buen Vino Rd"]=70, ["Route 68"]=120, ["Zancudo Grande Valley"]=70, ["Zancudo Barranca"]=70, ["Galileo Rd"]=70, ["Mt Vinewood Dr"]=70, ["Marlowe Dr"]=70, ["Milton Rd"]=70, ["Kimble Hill Dr"]=70, ["Normandy Dr"]=70, ["Hillcrest Ave"]=70, ["Hillcrest Ridge Access Rd"]=70, ["North Sheldon Ave"]=70, ["Lake Vinewood Dr"]=70, ["Lake Vinewood Est"]=70, ["Baytree Canyon Rd"]=70, ["Peaceful St"]=70, ["North Conker Ave"]=70, ["Wild Oats Dr"]=70, ["Whispymound Dr"]=70, ["Didion Dr"]=70, ["Cox Way"]=70, ["Picture Perfect Drive"]=70, ["South Mo Milton Dr"]=70, ["Cockingend Dr"]=70, ["Mad Wayne Thunder Dr"]=70, ["Hangman Ave"]=70, ["Dunstable Ln"]=70, ["Dunstable Dr"]=70, ["Greenwich Way"]=70, ["Greenwich Pl"]=70, ["Hardy Way"]=70, ["Richman St"]=70, ["Ace Jones Dr"]=70, ["Los Santos Freeway"]=120, ["Senora Rd"]=70, ["Nowhere Rd"]=35, ["Smoke Tree Rd"]=70, ["Cholla Rd"]=70, ["Cat-Claw Ave"]=70, ["Senora Way"]=70, ["Palomino Fwy"]=120, ["Shank St"]=70, ["Macdonald St"]=70, ["Route 68 Approach"]=120, ["Vinewood Park Dr"]=70, ["Vinewood Blvd"]=70, ["Mirror Park Blvd"]=70, ["Glory Way"]=70, ["Bridge St"]=70, ["West Mirror Drive"]=70, ["Nikola Ave"]=70, ["East Mirror Dr"]=70, ["Nikola Pl"]=35, ["Mirror Pl"]=70, ["El Rancho Blvd"]=70, ["Olympic Fwy"]=120, ["Fudge Ln"]=70, ["Amarillo Vista"]=70, ["Labor Pl"]=70, ["El Burro Blvd"]=70, ["Sustancia Rd"]=55, ["South Shambles St"]=70, ["Hanger Way"]=70, ["Orchardville Ave"]=70, ["Popular St"]=70, ["Buccaneer Way"]=55, ["Abattoir Ave"]=70, ["Voodoo Place"]=40, ["Mutiny Rd"]=70, ["South Arsenal St"]=70, ["Forum Dr"]=70, ["Morningwood Blvd"]=70, ["Dorset Dr"]=70, ["Caesars Place"]=70, ["Spanish Ave"]=70, ["Portola Dr"]=70, ["Edwood Way"]=70, ["San Vitus Blvd"]=70, ["Eclipse Blvd"]=70, ["Gentry Lane"]=40, ["Las Lagunas Blvd"]=70, ["Power St"]=70, ["Mt Haan Rd"]=70, ["Elgin Ave"]=70, ["Hawick Ave"]=70, ["Meteor St"]=70, ["Alta Pl"]=70, ["Occupation Ave"]=70, ["Carcer Way"]=70, ["Eastbourne Way"]=70, ["Rockford Dr"]=70, ["Abe Milton Pkwy"]=70, ["Laguna Pl"]=70, ["Sinners Passage"]=70, ["Atlee St"]=70, ["Sinner St"]=70, ["Supply St"]=70, ["Amarillo Way"]=70, ["Tower Way"]=70, ["Decker St"]=70, ["Tackle St"]=70, ["Low Power St"]=70, ["Clinton Ave"]=70, ["Fenwell Pl"]=70, ["Utopia Gardens"]=70, ["Cavalry Blvd"]=70, ["South Boulevard Del Perro"]=70, ["Americano Way"]=70, ["Sam Austin Dr"]=70, ["East Galileo Ave"]=70, ["Galileo Park"]=70, ["West Galileo Ave"]=70, ["Tongva Dr"]=70, ["Zancudo Rd"]=70, ["Movie Star Way"]=70, ["Heritage Way"]=70, ["Perth St"]=70, ["Chianski Passage"]=70, ["Lolita Ave"]=70, ["Meringue Ln"]=70, ["Strangeways Dr"]=70}
            else -- If you do something wron when setting the unit the default will be kmh
                speedLimit = {["Joshua Rd"]=60, ["East Joshua Road"]=60, ["Marina Dr"]=30, ["Alhambra Dr"]=30, ["Niland Ave"]=30, ["Zancudo Ave"]=30, ["Armadillo Ave"]=30, ["Algonquin Blvd"]=30, ["Mountain View Dr"]=30, ["Cholla Springs Ave"]=30, ["Panorama Dr"]=45, ["Lesbos Ln"]=30, ["Calafia Rd"]=30, ["North Calafia Way"]=30, ["Cassidy Trail"]=30, ["Seaview Rd"]=30, ["Grapeseed Main St"]=30, ["Grapeseed Ave"]=30, ["Joad Ln"]=30, ["Union Rd"]=30, ["O'Neil Way"]=30, ["Senora Fwy [Route 13]"]=75, ["Senora Fwy"]=75, ["Catfish View"]=30, ["Great Ocean Hwy"]=70, ["Paleto Blvd"]=30, ["Duluoz Ave"]=30, ["Procopio Dr"]=30, ["Cascabel Ave"]=30, ["Procopio Promenade"]=30, ["Pyrite Ave"]=30, ["Fort Zancudo Approach Rd"]=30, ["Barbareno Rd"]=30, ["Ineseno Road"]=30, ["West Eclipse Blvd"]=30, ["Playa Vista"]=30, ["Bay City Ave"]=30, ["Del Perro Fwy"]=75, ["Equality Way"]=30, ["Red Desert Ave"]=30, ["Magellan Ave"]=30, ["Sandcastle Way"]=30, ["Vespucci Blvd"]=30, ["Prosperity St"]=30, ["San Andreas Ave"]=30, ["North Rockford Dr"]=30, ["South Rockford Dr"]=30, ["Marathon Ave"]=30, ["Boulevard Del Perro"]=30, ["Cougar Ave"]=30, ["Liberty St"]=30, ["Bay City Incline"]=30, ["Conquistador St"]=30, ["Cortes St"]=30, ["Vitus St"]=30, ["Aguja St"]=30, ["Goma St"]=30, ["Melanoma St"]=30, ["Palomino Ave"]=30, ["Invention Ct"]=30, ["Imagination Ct"]=30, ["Rub St"]=30, ["Tug St"]=30, ["Ginger St"]=30, ["Lindsay Circus"]=30, ["Calais Ave"]=30, ["Adam's Apple Blvd"]=30, ["Alta St"]=30, ["Integrity Way"]=30, ["Swiss St"]=30, ["Strawberry Ave"]=30, ["Capital Blvd"]=30, ["Crusade Rd"]=30, ["Innocence Blvd"]=30, ["Davis Ave"]=30, ["Little Bighorn Ave"]=30, ["Roy Lowenstein Blvd"]=30, ["Jamestown St"]=30, ["Carson Ave"]=45, ["Grove St"]=30, ["Brouge Ave"]=30, ["Covenant Ave"]=30, ["Dutch London St"]=30, ["Signal St"]=30, ["Elysian Fields Fwy"]=75, ["Plaice Pl"]=30, ["Chum St"]=30, ["Chupacabra St"]=30, ["Miriam Turner Overpass"]=30, ["Autopia Pkwy"]=30, ["Exceptionalists Way"]=30, ["La Puerta Fwy"]=75, ["New Empire Way"]=30, ["Runway1"]="--", ["Greenwich Pkwy"]=30, ["Kortz Dr"]=30, ["Banham Canyon Dr"]=30, ["Buen Vino Rd"]=30, ["Route 68"]=60, ["Zancudo Grande Valley"]=30, ["Zancudo Barranca"]=30, ["Galileo Rd"]=30, ["Mt Vinewood Dr"]=30, ["Marlowe Dr"]=30, ["Milton Rd"]=30, ["Kimble Hill Dr"]=30, ["Normandy Dr"]=30, ["Hillcrest Ave"]=30, ["Hillcrest Ridge Access Rd"]=30, ["North Sheldon Ave"]=30, ["Lake Vinewood Dr"]=30, ["Lake Vinewood Est"]=30, ["Baytree Canyon Rd"]=30, ["Peaceful St"]=30, ["North Conker Ave"]=30, ["Wild Oats Dr"]=30, ["Whispymound Dr"]=30, ["Didion Dr"]=30, ["Cox Way"]=30, ["Picture Perfect Drive"]=30, ["South Mo Milton Dr"]=30, ["Cockingend Dr"]=30, ["Mad Wayne Thunder Dr"]=30, ["Hangman Ave"]=30, ["Dunstable Ln"]=30, ["Dunstable Dr"]=30, ["Greenwich Way"]=30, ["Greenwich Pl"]=30, ["Hardy Way"]=30, ["Richman St"]=30, ["Ace Jones Dr"]=30, ["Los Santos Fwy"]=75, ["Senora Rd"]=30, ["Nowhere Rd"]=35, ["Smoke Tree Rd"]=30, ["Cholla Rd"]=30, ["Cat-Claw Ave"]=30, ["Senora Way"]=30, ["Palomino Fwy"]=75, ["Shank St"]=30, ["Macdonald St"]=30, ["Route 68 Approach"]=75, ["Vinewood Park Dr"]=30, ["Vinewood Blvd"]=30, ["Mirror Park Blvd"]=30, ["Glory Way"]=30, ["Bridge St"]=30, ["West Mirror Drive"]=30, ["Nikola Ave"]=30, ["East Mirror Dr"]=30, ["Nikola Pl"]=35, ["Mirror Pl"]=30, ["El Rancho Blvd"]=30, ["Olympic Fwy"]=75, ["Fudge Ln"]=30, ["Amarillo Vista"]=30, ["Labor Pl"]=30, ["El Burro Blvd"]=30, ["Sustancia Rd"]=55, ["South Shambles St"]=30, ["Hanger Way"]=30, ["Orchardville Ave"]=30, ["Popular St"]=30, ["Buccaneer Way"]=55, ["Abattoir Ave"]=30, ["Voodoo Place"]=40, ["Mutiny Rd"]=30, ["South Arsenal St"]=30, ["Forum Dr"]=30, ["Morningwood Blvd"]=30, ["Dorset Dr"]=30, ["Caesars Place"]=30, ["Spanish Ave"]=30, ["Portola Dr"]=30, ["Edwood Way"]=30, ["San Vitus Blvd"]=30, ["Eclipse Blvd"]=30, ["Gentry Lane"]=40, ["Las Lagunas Blvd"]=30, ["Power St"]=30, ["Mt Haan Rd"]=30, ["Elgin Ave"]=30, ["Hawick Ave"]=30, ["Meteor St"]=30, ["Alta Pl"]=30, ["Occupation Ave"]=30, ["Carcer Way"]=30, ["Eastbourne Way"]=30, ["Rockford Dr"]=30, ["Abe Milton Pkwy"]=30, ["Laguna Pl"]=30, ["Sinners Passage"]=30, ["Atlee St"]=30, ["Sinner St"]=30, ["Supply St"]=30, ["Amarillo Way"]=30, ["Tower Way"]=30, ["Decker St"]=30, ["Tackle St"]=30, ["Low Power St"]=30, ["Clinton Ave"]=30, ["Fenwell Pl"]=30, ["Utopia Gardens"]=30, ["Cavalry Blvd"]=30, ["South Boulevard Del Perro"]=30, ["Americano Way"]=30, ["Sam Austin Dr"]=30, ["East Galileo Ave"]=30, ["Galileo Park"]=30, ["West Galileo Ave"]=30, ["Tongva Dr"]=30, ["Zancudo Rd"]=30, ["Movie Star Way"]=30, ["Heritage Way"]=30, ["Perth St"]=30, ["Chianski Passage"]=30, ["Lolita Ave"]=30, ["Meringue Ln"]=30, ["Strangeways Dr"]=30}
            end
            limit = speedLimit[street]
            SendNUIMessage({
                Speed = limit,
                Display = dis
            })
             --if not limit then
               -- if locale == "mph" then
                    --limit = 45
               -- elseif locale == "kmh" then
                   -- limit = 90
                --else
                   -- limit = 45
               -- end
            

              SetEntityMaxSpeed(GetVehiclePedIsIn(PlayerPedId(),false),limit/2.237)               
        else
            dis = true
            SendNUIMessage({
                Speed = limit,
                Display = dis
            })	
        end
    end

        
end)
